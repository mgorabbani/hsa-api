{"version":3,"sources":["../src/mailer.js"],"names":["sendConfirmationEmail","sendResetPasswordEmail","from","setup","nodemailer","createTransport","host","process","env","EMAIL_HOST","port","EMAIL_PORT","auth","user","EMAIL_USER","pass","EMAIL_PASS","tranport","email","to","subject","text","generateConfirmationUrl","sendMail","generateResetPasswordLink"],"mappings":";;;;;QAegBA,qB,GAAAA,qB;QAgBAC,sB,GAAAA,sB;;AA/BhB;;;;;;AAEA,IAAMC,OAAO,4CAAb;;AAEA,SAASC,KAAT,GAAiB;AACf,SAAOC,qBAAWC,eAAX,CAA2B;AAChCC,UAAMC,QAAQC,GAAR,CAAYC,UADc;AAEhCC,UAAMH,QAAQC,GAAR,CAAYG,UAFc;AAGhCC,UAAM;AACJC,YAAMN,QAAQC,GAAR,CAAYM,UADd;AAEJC,YAAMR,QAAQC,GAAR,CAAYQ;AAFd;AAH0B,GAA3B,CAAP;AAQD;;AAEM,SAAShB,qBAAT,CAA+Ba,IAA/B,EAAqC;AAC1C,MAAMI,WAAWd,OAAjB;AACA,MAAMe,QAAQ;AACZhB,cADY;AAEZiB,QAAIN,KAAKK,KAFG;AAGZE,aAAS,6BAHG;AAIZC,qFAGER,KAAKS,uBAAL,EAHF;AAJY,GAAd;;AAWAL,WAASM,QAAT,CAAkBL,KAAlB;AACD;;AAEM,SAASjB,sBAAT,CAAgCY,IAAhC,EAAsC;AAC3C,MAAMI,WAAWd,OAAjB;AACA,MAAMe,QAAQ;AACZhB,cADY;AAEZiB,QAAIN,KAAKK,KAFG;AAGZE,aAAS,gBAHG;AAIZC,+DAGER,KAAKW,yBAAL,EAHF;AAJY,GAAd;;AAWAP,WAASM,QAAT,CAAkBL,KAAlB;AACD","file":"mailer.js","sourcesContent":["import nodemailer from \"nodemailer\";\n\nconst from = '\"HSA STUDENTS\" <app@higherstudyabroad.com>';\n\nfunction setup() {\n  return nodemailer.createTransport({\n    host: process.env.EMAIL_HOST,\n    port: process.env.EMAIL_PORT,\n    auth: {\n      user: process.env.EMAIL_USER,\n      pass: process.env.EMAIL_PASS\n    }\n  });\n}\n\nexport function sendConfirmationEmail(user) {\n  const tranport = setup();\n  const email = {\n    from,\n    to: user.email,\n    subject: \"Welcome to HSA Students App\",\n    text: `\n    Welcome to HSA Students App. Please, confirm your email.\n\n    ${user.generateConfirmationUrl()}\n    `\n  };\n\n  tranport.sendMail(email);\n}\n\nexport function sendResetPasswordEmail(user) {\n  const tranport = setup();\n  const email = {\n    from,\n    to: user.email,\n    subject: \"Reset Password\",\n    text: `\n    To reset password follow this link\n\n    ${user.generateResetPasswordLink()}\n    `\n  };\n\n  tranport.sendMail(email);\n}\n"]}